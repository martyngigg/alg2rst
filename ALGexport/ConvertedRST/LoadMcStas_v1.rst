.. algorithm::

.. summary::

.. alias::

.. properties::

Description
-----------

Reads a McStas Nexus file into a Mantid WorkspaceGroup with a
user-supplied name. Data generated by McStas monitor components are
stored in workspaces of type Workspace2D or Event.

LoadMcStas replaces LoadMcStasEventNexus. LoadMcStas can be used for
reading McStas 2.1 histogram and event data. LoadMcStasNexus can be used
for reading McStas 2.0 histogram data.

McStas 2.1 event data are generated as follows. The McStas component
monitor\_nD must be called with the argument: options ="mantid square x
limits=[-0.2 0.2] bins=128 y limits=[-0.2 0.2] bins=128, neutron pixel
t, list all neutrons". Number of bins and limits can be chosen freely.

To generate McStas 2.1 event data and the corresponding IDF for Mantid
run the following commands from an xterm:

-  export MCSTAS\_CFLAGS="-g -lm -O2 -DUSE\_NEXUS -lNeXus"

-  mcrun -c templateSANS.instr --format=NeXus -n0

-  mcdisplay templateSANS.instr -n0 --format=Mantid

-  cp templateSANS.out.xml IDF.xml

-  mcrun templateSANS --format=NeXus

The new features added to McStas has been tested on the following
platforms:

-  Linux

-  Mac - use either the Intel or gcc 4.8 compiler. Simulations using
   Nexus format and event data does not work using the Clang compiler.

For more information about McStas and its general usage for simulating
neutron scattering instruments and experiments visit the McStas homepage
http://www.mcstas.org.

.. algm_categories::
